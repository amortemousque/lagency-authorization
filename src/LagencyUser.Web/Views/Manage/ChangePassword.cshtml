@using Microsoft.AspNetCore.Mvc.Localization
@using LagencyUser.Web.Resources

@inject IHtmlLocalizer<SharedResource> Localizer
@model ChangePasswordViewModel
@{
    ViewData["Title"] = "";
}
<h2 class="mdc-typography--headline4 mb-1">@Localizer["Change password"]</h2>
<div class="management-block d-flex flex-column flex-md-row align-items-stretch">
    <div class="management-info">
        @Localizer["Changing password will be effective imediatly. Their is no need to disconnect and reconnect. No confirmation mail will be send to you."]
        @Localizer["For security purpose your password must be at least 6 characters long and must contain at least on digit."]
    </div>
    <div class="management-content">
        <div class="mdc-card text-center main-card">
            <section class="card-content pt-0">
                <form asp-controller="Manage" asp-action="ChangePassword" method="post" class="form-horizontal" role="form">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                    <div class="mdc-form-field" data-mdc-auto-init="MDCTextField">
                        <div class="mdc-text-field">
                            <input asp-for="OldPassword" type="password" class="mdc-text-field__input">
                            <label asp-for="OldPassword" class="mdc-floating-label">@Localizer["Old password"]</label>
                            <div class="mdc-line-ripple"></div>
                        </div>
                    </div>
                    <div class="mat-form-field-subscript-wrapper">
                        <span asp-validation-for="OldPassword" class="text-danger"></span>
                    </div>

                    <div class="mdc-form-field" data-mdc-auto-init="MDCTextField">
                        <div class="mdc-text-field">
                            <input asp-for="NewPassword" type="password" class="mdc-text-field__input">
                            <label asp-for="NewPassword" class="mdc-floating-label">@Localizer["New password"]</label>
                            <div class="mdc-line-ripple"></div>
                        </div>
                    </div>
                    <div class="mat-form-field-subscript-wrapper">
                        <span asp-validation-for="NewPassword" class="text-danger"></span>
                    </div>
                    <div class="mdc-form-field" data-mdc-auto-init="MDCTextField">
                        <div class="mdc-text-field">
                            <input asp-for="ConfirmPassword" type="password" class="mdc-text-field__input">
                            <label asp-for="ConfirmPassword" class="mdc-floating-label">@Localizer["Confirm password"]</label>
                            <div class="mdc-line-ripple"></div>
                        </div>
                    </div>
                    <div class="mat-form-field-subscript-wrapper">
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                    <div class="mt-3 text-left">
                        <button type="submit" class="mdc-button mdc-button--raised ">@Localizer["Change password"]</button>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}
